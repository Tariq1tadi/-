<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  
<!-- TomTom Maps SDK CSS -->
<link rel="stylesheet" type="text/css" href="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.20.0/maps/maps.css"/>

<!-- TomTom Maps SDK JS -->
<script src="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.20.0/maps/maps-web.min.js"></script>

  <style>
  
  /* Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ´ØºÙŠÙ„ */
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 26px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

/* Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ Ù„Ù„Ù…ÙØªØ§Ø­ */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  background-color: #ccc;
  transition: 0.4s;
  border-radius: 34px;
}

/* Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© */
.slider::before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  right: 3px;
  bottom: 3px;
  background-color: white;
  transition: 0.4s;
  border-radius: 50%;
}

/* Ø¹Ù†Ø¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ */
input:checked + .slider {
  background-color: #305d58;
}

/* ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ */
input:checked + .slider::before {
  transform: translateX(-24px);
}
.back-btn {
  background-color: #e74c3c;
  color: white;
  border: none;
  padding: 6px 12px;
  font-size: 14px;
  border-radius: 14px;
  cursor: pointer;
  transition: background-color 0.3s ease;
  margin-bottom: 20px;
  width: 100%;                /* âœ… Ø¹Ø±Ø¶ ÙƒØ§Ù…Ù„ */
  box-sizing: border-box;     /* âœ… ÙŠØ­Ø³Ø¨ Ø§Ù„Ø¨Ø§Ø¯ÙŠÙ†Ø¬ Ø¶Ù…Ù† Ø§Ù„Ø¹Ø±Ø¶ */
  max-width: 400px;           /* â¬…ï¸ Ø§Ø®ØªÙŠØ§Ø±ÙŠ: Ø­Ø¯ Ø£Ù‚ØµÙ‰ Ù„Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
}

  .back-btn:hover {
    background-color: #c0392b;     /* Ø£Ø­Ù…Ø± Ø£ØºÙ…Ù‚ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
  }
</style>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø·Ù„Ø¨ ØºØ³ÙŠÙ„</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    body {
      background-color: #1e1e1e;
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }

.top-marquee {
  width: 100%;
  background-color: #00b894;
  color: black;
  font-weight: bold;
  font-size: 12px;
  padding: 2px 0;
  text-align: center;
  border-bottom: 0px solid #00cec9;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  position: fixed;
  top: 0;
  z-index: 9999;
}

body {
  padding-top: 25px; /* Ù„ØªØ¹ÙˆÙŠØ¶ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ */
}

    header.top-bar, footer.footer-bar {
      background-color: #222;
      width: 100%;
      max-width: 420px;
      padding: 10px 20px;
      box-sizing: border-box;
      border-bottom: 1px solid #444;
    }

    header.top-bar {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .banner {
      width: 95%;
      max-width: 420px;
      margin: 15px 0;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }

    .banner img {
      width: 100%;
      display: block;
      border-radius: 20px;
    }

    .container {
      background-color: #2c2c2c;
      width: 95%;
      max-width: 420px;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
      box-sizing: border-box;
      margin-bottom: 40px;
    }

    h2 {
      text-align: center;
      color: #8ff8d0;
      margin-bottom: 10px;
    }

    p {
      text-align: center;
      color: #aaa;
      font-size: 14px;
    }

    .services {
      display: flex;
      justify-content: space-around;
      margin: 25px 0;
    }

    .service {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background-color: #1a1a1a;
      border: 2px solid #8ff8d0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: 0.3s;
      font-size: 12px;
      text-align: center;
    }

    .service:active {
      transform: scale(0.95);
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(0, 206, 201, 0.7); }
      70% { box-shadow: 0 0 0 10px rgba(0, 206, 201, 0); }
      100% { box-shadow: 0 0 0 0 rgba(0, 206, 201, 0); }
    }

    .service.selected {
      background-color: #00b894;
      color: black;
      border-color: #00cec9;
      animation: pulse 0.6s;
    }

    .service i {
      font-size: 20px;
      margin-bottom: 5px;
      color: #8ff8d0;
    }

    .inputs {
      display: none;
      flex-direction: column;
      gap: 15px;
      margin-bottom: 20px;
    }

    .inputs select {
      padding: 10px;
      border-radius: 10px;
      border: none;
      background-color: #444;
      color: white;
      font-size: 14px;
      box-sizing: border-box;
      cursor: pointer;
      min-width: 140px;
    }

    .btn {
      background: linear-gradient(to right, #00b894, #00cec9);
      padding: 12px;
      border: none;
      border-radius: 30px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
      font-size: 16px;
      width: 100%;
    }

    .btn:hover {
      opacity: 0.9;
    }

    .summary {
      background-color: #1a1a1a;
      padding: 15px;
      border-radius: 10px;
      margin-top: 15px;
    }

    .summary-item {
      font-size: 14px;
      padding: 5px 0;
      border-bottom: 1px solid #444;
      display: flex;
      justify-content: space-between;
      align-items: center;
      animation: slideFadeIn 0.4s ease-in-out;
    }

    @keyframes slideFadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .remove-btn {
      background: none;
      border: none;
      color: #ff7675;
      cursor: pointer;
      font-size: 14px;
    }

    footer.footer-bar {
      border-top: 1px solid #444;
      margin-top: auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      color: #aaa;
      font-size: 14px;
    }

    .social-icons {
      display: flex;
      gap: 20px;
    }

    .social-icons a {
      color: #aaa;
      font-size: 20px;
      transition: color 0.3s;
    }

    .social-icons a:hover {
      color: #00cec9;
    }

    .social-icons a.whatsapp:hover {
      color: #305d58;
    }

    input[type="text"], select {
      padding: 12px;
      border-radius: 10px;
      border: none;
      background: #444;
      color: white;
      font-size: 14px;
      width: 100%;
      box-sizing: border-box;
    }

    input[readonly] {
      background-color: #333;
      color: #aaa;
      cursor: default;
    }

    .fade {
      transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
      opacity: 0;
      transform: scale(0.98);
    }

    .fade.show {
      opacity: 1;
      transform: scale(1);
    }
  </style>
</head>
<body>
  <div class="top-marquee">
  <marquee behavior="scroll" direction="right" scrollamount="8">
    âœ¨ Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø³Ø¬Ø§Ø¯ÙƒÙˆ â€“ Ù†Ø¸Ø§ÙØ© ØªÙ„ÙŠÙ‚ Ø¨Ùƒ! âœ¨ Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø®Ø¯Ù…Ø© ØºØ³ÙŠÙ„ Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù„Ù„Ø³Ø¬Ø§Ø¯ ÙˆØ§Ù„Ø¨Ø·Ø§Ù†ÙŠØ§Øª ğŸ’§
  </marquee>
</div>

<header class="top-bar">
  <img src="https://www2.0zz0.com/2025/06/20/04/424573103.png" alt="Ù„ÙˆØ¬Ùˆ Sejjadco" style="height: 45px;" />
</header>

<div class="banner">
  <img src="https://www2.0zz0.com/2025/06/20/03/956921589.png" alt="Ø¨Ø§Ù†Ø±" />
</div>

<div class="container fade show" id="step1">
  <h2>Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© ØºØ³ÙŠÙ„</h2>
  <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø£ÙƒØ«Ø± Ù…Ù† Ø®Ø¯Ù…Ø©</p>

  <div class="services">
    <div class="service" data-type="Ø³Ø¬Ø§Ø¯"><i class="fas fa-rug"></i> Ø³Ø¬Ø§Ø¯</div>
    <div class="service" data-type="Ø¨Ø·Ø§Ù†ÙŠØ§Øª"><i class="fas fa-bed"></i> Ø¨Ø·Ø§Ù†ÙŠØ§Øª</div>
    <div class="service" data-type="Ø£Ù„Ø­ÙØ©"><i class="fas fa-layer-group"></i> Ø£Ù„Ø­ÙØ©</div>
  </div>

  <div class="inputs" id="inputFields">
    <select id="length"></select>
    <select id="width"></select>
    <select id="quantity"></select>
    <button class="btn" onclick="addItem()">Ø¥Ø¶Ø§ÙØ©</button>
  </div>

<div class="summary" id="summary">
  <h4>Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h4>
  <div id="summaryItems"></div>
  <div id="totalPrice" style="margin-top: 10px; font-weight: bold; font-size: 18px;">
    Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: 0 Ø±ÙŠØ§Ù„
  </div>
</div>

  <div id="nextStepBtn" style="text-align: center; margin-top: 20px; display: none;">
    <button class="btn" onclick="goToStep2()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
  </div>
</div>

<div class="container fade" id="step2" style="display: none;">
<button onclick="goBack()" id="backBtn" class="back-btn">Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø®Ù„Ù</button>
  <h2>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</h2>
  <p>ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©</p>

  <input type="text" id="name" placeholder="Ø§Ù„Ø§Ø³Ù…" style="margin-bottom: 15px;" />
  
  <select id="city" disabled style="margin-bottom: 15px;">
    <option value="Ø¬Ø¯Ø©" selected>Ø¬Ø¯Ø©</option>
  </select>

  <div style="position: relative; max-width: 420px; width: 100%; margin-bottom: 20px;">
  <input type="text" id="districtInput" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø­ÙŠ..." style="width: 100%; padding: 12px; border-radius: 10px; border: none; background: #444; color: white; font-size: 14px; box-sizing: border-box;" autocomplete="off">
  <ul id="districtList" style="position: absolute; top: 100%; left: 0; right: 0; background: #333; max-height: 200px; overflow-y: auto; border-radius: 10px; margin: 0; padding: 0; list-style: none; z-index: 999; display: none;"></ul>
</div>

<label style="display: block; color: #8ff8d0; font-weight: bold; margin-bottom: 10px;">
  Ø£Ø¶Ù Ù…ÙˆÙ‚Ø¹Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
</label>

<label class="switch">
  <input type="checkbox" id="toggleMap" onchange="toggleMap()" />
  <span class="slider"></span>
</label>
<div id="mapContainer" style="display: none; margin-top: 15px;">
  <div id="map" style="height: 300px; border-radius: 10px;"></div>
  <div id="locationDetails" style="margin-top: 15px; color: white; font-weight: bold;">
    <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ</p>
    <p id="districtName"></p>
    <p id="coords"></p>
  </div>
</div>

 <div class="summary" id="summaryCopy" style="margin-bottom: 20px; display: none;">
  <h4>Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h4>
  <div id="summaryItemsCopy"></div>

  <!-- âœ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ ÙÙŠ Ù†ÙØ³ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ -->
  <div id="totalPriceCopy" style="margin-top: 10px; font-weight: bold; font-size: 18px;">
    Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: 0 Ø±ÙŠØ§Ù„
  </div>
</div>

  <button class="btn" onclick="confirmOrder()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
  
</div>

<footer class="footer-bar">
  <div>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø±:</div>
  <div class="social-icons">
    <a href="#" class="whatsapp"><i class="fab fa-whatsapp"></i></a>
    <a href="#"><i class="fab fa-instagram"></i></a>
    <a href="#"><i class="fab fa-facebook-f"></i></a>
  </div>
  <div>Â© 2025 Ø´Ø±ÙƒØ© Ø³Ø¬Ø§Ø¯ÙƒÙˆ</div>
</footer>

<script>
  let selectedService = 'Ø³Ø¬Ø§Ø¯';

  const services = document.querySelectorAll('.service');
  const inputFields = document.getElementById('inputFields');
  const summaryItems = document.getElementById('summaryItems');
  const summarySection = document.getElementById('summary');
  const lengthInput = document.getElementById('length');
  const widthInput = document.getElementById('width');
  const quantityInput = document.getElementById('quantity');

  function populateSelect(select, placeholder) {
    select.innerHTML = '';
    const opt = document.createElement("option");
    opt.text = placeholder;
    opt.disabled = true;
    opt.selected = true;
    select.appendChild(opt);
    for (let i = 1; i <= 10; i++) {
      const option = document.createElement("option");
      option.value = i;
      option.text = i;
      select.appendChild(option);
    }
  }

  populateSelect(lengthInput, 'Ø§Ù„Ø·ÙˆÙ„ (Ù…ØªØ±)');
  populateSelect(widthInput, 'Ø§Ù„Ø¹Ø±Ø¶ (Ù…ØªØ±)');
  populateSelect(quantityInput, 'Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹');

  window.addEventListener('DOMContentLoaded', () => {
    services.forEach(s => s.classList.remove('selected'));
    const carpet = [...services].find(s => s.getAttribute('data-type') === 'Ø³Ø¬Ø§Ø¯');
    if (carpet) carpet.classList.add('selected');
    inputFields.style.display = 'flex';
    lengthInput.style.display = 'inline-block';
    widthInput.style.display = 'inline-block';
    quantityInput.style.display = 'none';
    summarySection.style.display = 'none';

    populateDeliveryDates();
  });

  services.forEach(service => {
    service.addEventListener('click', () => {
      services.forEach(s => s.classList.remove('selected'));
      service.classList.add('selected');
      selectedService = service.getAttribute('data-type');
      inputFields.style.display = 'flex';
      if (selectedService === 'Ø³Ø¬Ø§Ø¯') {
        lengthInput.style.display = 'inline-block';
        widthInput.style.display = 'inline-block';
        quantityInput.style.display = 'none';
      } else {
        lengthInput.style.display = 'none';
        widthInput.style.display = 'none';
        quantityInput.style.display = 'inline-block';
      }
    });
  });

  function addItem() {
    if (!selectedService) return;

    let text = '', price = 0;

    if (selectedService === 'Ø³Ø¬Ø§Ø¯') {
      const length = parseInt(lengthInput.value);
      const width = parseInt(widthInput.value);
      if (!length || !width) return alert("Ø§Ø®ØªØ± Ø§Ù„Ø·ÙˆÙ„ ÙˆØ§Ù„Ø¹Ø±Ø¶.");
      price = length * width;
      text = `${selectedService} - ${length} Ã— ${width} Ù…ØªØ± = ${price.toFixed(2)} Ø±ÙŠØ§Ù„`;
    } else {
      const quantity = parseInt(quantityInput.value);
      if (!quantity) return alert("Ø§Ø®ØªØ± Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹.");
      price = quantity;
      text = `${selectedService} - ${quantity} Ù‚Ø·Ø¹Ø© = ${price} Ø±ÙŠØ§Ù„`;
    }

    const item = document.createElement('div');
    item.classList.add('summary-item');
    item.dataset.price = price;

    const span = document.createElement('span');
    span.innerText = text;

    const removeBtn = document.createElement('button');
    removeBtn.innerText = 'Ø­Ø°Ù';
    removeBtn.classList.add('remove-btn');
    removeBtn.onclick = () => {
      item.remove();
      updateTotalPrice();
      if (summaryItems.children.length === 0) {
        summarySection.style.display = 'none';
        document.getElementById('nextStepBtn').style.display = 'none';
      }
    };

    item.appendChild(span);
    item.appendChild(removeBtn);
    summaryItems.appendChild(item);

    summarySection.style.display = 'block';
    document.getElementById('nextStepBtn').style.display = 'block';

    lengthInput.selectedIndex = 0;
    widthInput.selectedIndex = 0;
    quantityInput.selectedIndex = 0;

    updateTotalPrice();

    setTimeout(() => {
      const rect = summarySection.getBoundingClientRect();
      window.scrollTo({
        top: window.scrollY + rect.top - 100,
        behavior: 'smooth'
      });
    }, 100);
  }

  function updateTotalPrice() {
    const items = document.querySelectorAll('.summary-item');
    let total = 0;
    items.forEach(item => {
      total += parseFloat(item.dataset.price) || 0;
    });

    const totalDiv = document.getElementById('totalPrice');
    if (totalDiv) {
      totalDiv.innerText = `Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total.toFixed(2)} Ø±ÙŠØ§Ù„`;
    }
  }

  function goToStep2() {
    if (summaryItems.children.length === 0) {
      alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©.");
      return;
    }

    const step1 = document.getElementById('step1');
    const step2 = document.getElementById('step2');

    step1.classList.remove('show');
    setTimeout(() => {
      step1.style.display = 'none';
      step2.style.display = 'block';
      step2.classList.add('show');
      window.scrollTo(0, 0);
    }, 300);

    const copyTarget = document.getElementById('summaryItemsCopy');
    copyTarget.innerHTML = summaryItems.innerHTML;

    const originalTotal = document.getElementById('totalPrice');
    const totalCopy = document.getElementById('totalPriceCopy');
    if (originalTotal && totalCopy) {
      totalCopy.innerText = originalTotal.innerText;
    }

    document.getElementById('summaryCopy').style.display = 'block';
  }

  function goBack() {
    const step1 = document.getElementById('step1');
    const step2 = document.getElementById('step2');

    step2.classList.remove('show');
    setTimeout(() => {
      step2.style.display = 'none';
      step1.style.display = 'block';
      step1.classList.add('show');
      window.scrollTo(0, 0);
    }, 300);
  }

  function populateDeliveryDates() {
    const deliveryDateSelect = document.getElementById('deliveryDate');
    deliveryDateSelect.innerHTML = '';

    const today = new Date();
    for (let i = 0; i <= 7; i++) {
      const date = new Date(today);
      date.setDate(today.getDate() + i);
      const yyyy = date.getFullYear();
      const mm = String(date.getMonth() + 1).padStart(2, '0');
      const dd = String(date.getDate()).padStart(2, '0');
      const options = { weekday: 'long', day: '2-digit', month: '2-digit', year: 'numeric' };
      const displayDate = date.toLocaleDateString('ar-SA', options);

      const option = document.createElement('option');
      option.value = `${yyyy}-${mm}-${dd}`;
      option.textContent = displayDate;
      if (i === 0) option.selected = true;
      deliveryDateSelect.appendChild(option);
    }
  }

  function confirmOrder() {
    const name = document.getElementById('name').value.trim();
    const district = document.getElementById('districtName').innerText.replace("Ø§Ù„Ø­ÙŠ: ", "");
    const deliveryDate = document.getElementById('deliveryDate').value;

    if (!name) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù….");
    if (!district || district === "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ") return alert("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø­ÙŠ.");
    if (!deliveryDate) return alert("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù….");

    alert("ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!");
  }

  let map, marker;

  function toggleMap() {
    const mapDiv = document.getElementById('mapContainer');
    const toggle = document.getElementById('toggleMap');

    if (toggle.checked) {
      mapDiv.style.display = 'block';

      if (typeof tt === 'undefined') {
        alert("ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø±ÙŠØ·Ø©. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø£Ùˆ Ù…ÙƒØªØ¨Ø© TomTom.");
        return;
      }

      if (!map) {
        initMap();
      } else {
        setTimeout(() => {
          map.resize();
        }, 100);
      }
    } else {
      mapDiv.style.display = 'none';
    }
  }

  function initMap() {
    map = tt.map({
      key: '31iqZGZC77BlqvybMoXUZHvSJGGIUM6H',
      container: 'map',
      center: [39.1925, 21.4858],
      zoom: 12
    });

    map.addControl(new tt.NavigationControl());

    map.on('click', function (e) {
      const lngLat = e.lngLat;

      if (marker) {
        marker.setLngLat(lngLat);
      } else {
        marker = new tt.Marker().setLngLat(lngLat).addTo(map);
      }

      document.getElementById('coords').innerText = `Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª: ${lngLat.lat.toFixed(6)}, ${lngLat.lng.toFixed(6)}`;

      fetch(`https://api.tomtom.com/search/2/reverseGeocode/${lngLat.lat},${lngLat.lng}.json?key=31iqZGZC77BlqvybMoXUZHvSJGGIUM6H`)
        .then(response => response.json())
        .then(data => {
          let address = data.addresses && data.addresses[0] && data.addresses[0].address;
          let district = address.municipalitySubdivision || address.municipality || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
          document.getElementById('districtName').innerText = `Ø§Ù„Ø­ÙŠ: ${district}`;
        })
        .catch(() => {
          document.getElementById('districtName').innerText = 'Ø§Ù„Ø­ÙŠ: ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
        });
    });
  }
</script>
<script>
  const districts = [
    "Ø§Ù„Ø±ÙˆØ¶Ø©", "Ø§Ù„Ø³Ù„Ø§Ù…Ø©", "Ø§Ù„Ù†Ù‡Ø¶Ø©", "Ø§Ù„ÙÙŠØµÙ„ÙŠØ©", "Ù…Ø´Ø±ÙØ©",
    "Ø§Ù„Ø¹Ø²ÙŠØ²ÙŠØ©", "Ø§Ù„Ø­Ù…Ø±Ø§Ø¡", "Ø¨Ù†ÙŠ Ù…Ø§Ù„Ùƒ", "Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©", "Ø§Ù„ØµÙØ§",
    "Ø§Ù„Ù†Ø²Ù‡Ø©", "Ø§Ù„Ù…Ø±ÙˆØ©", "Ø§Ù„Ø±Ø¨ÙˆØ©", "Ø§Ù„Ø±Ø­Ø§Ø¨", "Ø§Ù„Ø³Ø§Ù…Ø±",
    "Ø§Ù„Ù†Ø³ÙŠÙ…", "Ø§Ù„Ù…Ø·Ø§Ø±", "Ø§Ù„Ù…Ø±Ø¬Ø§Ù†", "Ø§Ù„Ø¨Ø³Ø§ØªÙŠÙ†", "Ø§Ù„Ù…Ø­Ù…Ø¯ÙŠØ©",
    "Ø§Ù„Ø´Ø§Ø·Ø¦", "Ø§Ù„Ù†Ø¹ÙŠÙ…", "Ø§Ù„Ø²Ù‡Ø±Ø§Ø¡", "Ø§Ù„Ø¨ÙˆØ§Ø¯ÙŠ", "Ø§Ù„Ø±Ø¨ÙˆØ©",
    "Ø§Ù„Ø®Ø§Ù„Ø¯ÙŠØ©", "Ø§Ù„Ø£Ù†Ø¯Ù„Ø³", "Ø§Ù„Ø±ÙˆØ§Ø¨ÙŠ", "Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©", "Ø§Ù„Ù‡Ù†Ø¯Ø§ÙˆÙŠØ©",
    "Ø§Ù„Ø¨Ù„Ø¯", "ØºÙ„ÙŠÙ„", "Ø§Ù„Ø«Ø¹Ø§Ù„Ø¨Ø©", "Ø§Ù„Ø£Ø¬ÙˆØ§Ø¯", "Ø§Ù„Ù…Ù†Ø§Ø±", "Ø§Ù„Ø³Ø§Ù…Ø±",
    "Ø§Ù„Ø­Ø±Ø§Ø²Ø§Øª", "Ø§Ù„Ø­Ù…Ø¯Ø§Ù†ÙŠØ©", "Ø§Ù„Ø£Ø¬Ø§ÙˆÙŠØ¯", "Ø§Ù„Ø³Ù„ÙŠÙ…Ø§Ù†ÙŠØ©", "Ø§Ù„Ù…Ø­Ø¬Ø±",
    "ÙƒÙŠÙ„Ùˆ 14", "ÙƒÙŠÙ„Ùˆ 11", "ÙƒÙŠÙ„Ùˆ 10", "ÙƒÙŠÙ„Ùˆ 7", "ÙƒÙŠÙ„Ùˆ 5", "ÙƒÙŠÙ„Ùˆ 2",
    "Ø§Ù„Ø¨ØºØ¯Ø§Ø¯ÙŠØ©", "Ø§Ù„Ù†Ø²Ù‡Ø©", "Ø§Ù„ÙÙŠØ­Ø§Ø¡", "Ø§Ù„ØµÙØ§", "Ø¨ØªØ±ÙˆÙ…ÙŠÙ†", "Ø§Ù„ÙˆØ±ÙˆØ¯",
    "Ø§Ù„Ø±ÙŠØ§Ù†", "Ø§Ù„Ù…Ø±ÙˆÙ‡", "Ø§Ù„Ù†Ø³ÙŠÙ…", "Ø§Ù„ÙˆØ§Ø­Ø©", "Ø§Ù„Ø±ØºØ§Ù…Ø©", "Ù‚ÙˆÙŠØ²Ø©",
    "Ø§Ù„Ù‡Ø¯Ù‰", "Ø§Ù„Ø±Ø­Ù…Ø§Ù†ÙŠØ©", "Ø§Ù„Ø±ÙˆØ¶Ù‡", "Ø§Ù„ÙÙ„Ø§Ø­", "Ø§Ù„Ù†Ø®ÙŠÙ„", "Ø§Ù„Ø´Ø±ÙÙŠØ©",
    "Ø§Ù„Ø¨ØºØ¯Ø§Ø¯ÙŠØ© Ø§Ù„Ø´Ø±Ù‚ÙŠØ©", "Ø§Ù„Ø¨ØºØ¯Ø§Ø¯ÙŠØ© Ø§Ù„ØºØ±Ø¨ÙŠØ©", "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©", "Ø§Ù„Ù‚Ø±ÙŠØ§Øª",
    "Ø§Ù„Ù…ÙƒØ±ÙˆÙ†Ø©", "Ø§Ù„Ø¹Ù…Ø§Ø±ÙŠØ©", "Ø§Ù„Ø®Ù…Ø±Ù‡", "Ø§Ù„ÙƒØ±Ù†ØªÙŠÙ†Ø§", "Ø§Ù„Ø®Ø§Ù„Ø¯ÙŠØ©", "Ø§Ù„Ø±ÙˆÙŠØ³",
    "Ø§Ù„Ø³Ù„Ø§Ù…", "Ø§Ù„ÙˆØ§Ø­Ø©", "Ø«ÙˆÙ„", "Ø±Ø§Ø¨Øº", "Ø¨Ø­Ø±Ø©", "Ø§Ù„Ù„ÙŠØ«", "Ø§Ù„Ù‚Ù†ÙØ°Ø©", "Ø®Ù„ÙŠØµ",
    "ÙˆØ§Ø¯ÙŠ ÙØ§Ø·Ù…Ø©", "Ø°Ù‡Ø¨Ø§Ù†", "Ø§Ù„Ù…Ø¸ÙŠÙ„Ù", "Ø§Ù„Ø¬Ù…ÙˆÙ…", "Ø¹Ø³ÙØ§Ù†", "Ø§Ù„Ù…ØµÙØ§Ø©", "Ø£Ù… Ø§Ù„Ø³Ù„Ù…"
    // Ø£Ø¶Ù Ø§Ù„Ù…Ø²ÙŠØ¯ Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©
  ];

  const input = document.getElementById("districtInput");
  const list = document.getElementById("districtList");

  input.addEventListener("input", () => {
    const value = input.value.trim();
    list.innerHTML = "";
    if (value === "") {
      list.style.display = "none";
      return;
    }

    const filtered = districts.filter(d =>
      d.includes(value)
    );

    if (filtered.length === 0) {
      list.style.display = "none";
      return;
    }

    filtered.forEach(d => {
      const li = document.createElement("li");
      li.textContent = d;
      li.style.padding = "10px";
      li.style.cursor = "pointer";
      li.style.color = "white";
      li.addEventListener("click", () => {
        input.value = d;
        list.style.display = "none";
      });
      list.appendChild(li);
    });

    list.style.display = "block";
  });

  document.addEventListener("click", (e) => {
    if (!e.target.closest("#districtInput")) {
      list.style.display = "none";
    }
  });
</script>
